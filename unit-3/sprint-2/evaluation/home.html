<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home page</title>
    <style>
        #main{
            display: flex;
         
        }
        #sidebar{
            display:flex;
            min-height: 300px;
            min-width:100px;
          
        }
        #y{
            color:rgb(255, 251, 0);
        }
        #side{
            position: sticky;
            left:10px;
        }
    </style>
</head>
<body>
  
    <header id="side"></header>
    <div id="main">
    <div id="top_story"></div>
    <div id="latest"></div>
</div>
<script type="module">


    import sidebar from "./../components/sidebar.js";
    let side_bar=document.getElementById('side');
    side_bar.innerHTML=sidebar();
</script>
<script>
    async function latest_part(){
        let d=await fetch(`https://newsapi.org/v2/top-headlines?sources=bbc-news&apiKey=1ce1a0bd9e6c4385862899d4f5e3d241`);
        let data=await d.json();
        console.log("data",data.articles);
       
        display_top(data.articles);
    } 
    async function latest_top_part(){
        let td=await fetch(`https://newsapi.org/v2/top-headlines?q=covid&sources=bbc-news&apiKey=1ce1a0bd9e6c4385862899d4f5e3d241`);
        let tdata=await td.json();
        
        console.log("data",tdata.articles);
        display_top_story(tdata.articles);

    }
    function display_top_story(article){
      //  console.log("data",articles);
        
       // console.log("data",articles[6]);
  var top_div=document.getElementById('top_story');
  var title=document.createElement('p');
  title.innerHTML=article.title;
  top_div.appendChild(title);
 
    }

function display_top(article){
    var main_latest=document.getElementById('latest');
article.forEach(({title,urlToImage,description})=>{
    var t=document.createElement('div');
    var tit=document.createElement('p');
    var des=document.createElement('p');
    var image=document.createElement('img');
    image.src=`${urlToImage}`;
    tit.innerHTML=`${title}`;
    des.innerHTML=`${description}`;
    t.append(tit,image,des);
    main_latest.appendChild(t);
});
   

}
latest_top_part()
    latest_part();
   
</script>

</body>
</html>